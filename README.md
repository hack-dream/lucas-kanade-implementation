# Реализация оптического потока
    
Алгоритм Лукаса-Канаде

## Обоснование

Основная идея алгоритма LK заключена в трех предположениях.

1. *Постоянство яркости*. Пиксель объекта на изображении не изменяется внешне (по возможности) при перемещении от кадра к кадру. Для серого изображения (LK так же можно применять и для цветного изображения) это предположение означает, что яркость пикселя не изменяется при слежении от кадра к кадру.

2. *Временное постоянство или "малые перемещения"*. Изменение движущейся поверхности патча изображения во времени происходит очень медленно. На практике это означает, что приращение времени достаточно велико относительно масштаба движения в изображении, то есть объект мало перемещаем от кадра к кадру.

3. *Пространственная когерентность*. Соседние точки на сцене, принадлежащие одной поверхности, имеют аналогичные движения и проектируются к соседним точкам на плоскости изображения.

## Результаты

### Начальный файл

Предпочтительно иметь однотонный, контрастный с фоном объект, константного размера и обладающий явным направлением движения

![](https://raw.githubusercontent.com/hack-dream/lucas-kanade-implementation/main/sample.gif)

### Результирующий файл

Накладываем на начальный файл смещения для выбранных _"угловых"_ пикселей

![](https://raw.githubusercontent.com/hack-dream/lucas-kanade-implementation/main/result.gif)
